!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(me){me.fn.jScrollPane=function(o){function s(w,e){var y,k,b,C,T,S,B,D,x,H,P,A,W,Y,z,M,X,R,I,t,F,L,V,q,O,E,G,N,K,Q,U,$,J,Z,_=this,i=!0,a=!0,l=!1,c=!1,o=w.clone(!1,!1).empty(),ee=me.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";function te(e){var t,o,s,n,r,i,a,l,c,p,u,d,f,h,j,g,v=!1,m=!1;if(y=e,void 0===k)r=w.scrollTop(),i=w.scrollLeft(),w.css({overflow:"hidden",padding:0}),b=w.innerWidth()+J,C=w.innerHeight(),w.width(b),k=me('<div class="jspPane" />').css("padding",$).append(w.children()),T=me('<div class="jspContainer" />').css({width:b+"px",height:C+"px"}).append(k).appendTo(w);else{if(w.css("width",""),T.css({width:"auto",height:"auto"}),k.css("position","static"),a=w.innerWidth()+J,l=w.innerHeight(),k.css("position","absolute"),v=y.stickToBottom&&(20<(p=B-C)&&p-ge()<10),m=y.stickToRight&&(20<(c=S-b)&&c-je()<10),n=a!==b||l!==C,b=a,C=l,T.css({width:b,height:C}),!n&&Z==S&&k.outerHeight()==B)return void w.width(b);Z=S,k.css("width",""),w.width(b),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}k.css("overflow","auto"),S=e.contentWidth?e.contentWidth:k[0].scrollWidth,B=k[0].scrollHeight,k.css("overflow",""),D=S/b,H=1<(x=B/C)||y.alwaysShowVScroll,(P=1<D||y.alwaysShowHScroll)||H?(w.addClass("jspScrollable"),(t=y.maintainPosition&&(Y||X))&&(o=je(),s=ge()),H&&(T.append(me('<div class="jspVerticalBar" />').append(me('<div class="jspCap jspCapTop" />'),me('<div class="jspTrack" />').append(me('<div class="jspDrag" />').append(me('<div class="jspDragTop" />'),me('<div class="jspDragBottom" />'))),me('<div class="jspCap jspCapBottom" />'))),R=T.find(">.jspVerticalBar"),I=R.find(">.jspTrack"),A=I.find(">.jspDrag"),y.showArrows&&(V=me('<a class="jspArrow jspArrowUp" />').on("mousedown.jsp",re(0,-1)).on("click.jsp",ve),q=me('<a class="jspArrow jspArrowDown" />').on("mousedown.jsp",re(0,1)).on("click.jsp",ve),y.arrowScrollOnHover&&(V.on("mouseover.jsp",re(0,-1,V)),q.on("mouseover.jsp",re(0,1,q))),ne(I,y.verticalArrowPositions,V,q)),F=C,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){F-=me(this).outerHeight()}),A.on("mouseenter",function(){A.addClass("jspHover")}).on("mouseleave",function(){A.removeClass("jspHover")}).on("mousedown.jsp",function(e){me("html").on("dragstart.jsp selectstart.jsp",ve),A.addClass("jspActive");var t=e.pageY-A.position().top;return me("html").on("mousemove.jsp",function(e){le(e.pageY-t,!1)}).on("mouseup.jsp mouseleave.jsp",ae),!1}),oe()),P&&(T.append(me('<div class="jspHorizontalBar" />').append(me('<div class="jspCap jspCapLeft" />'),me('<div class="jspTrack" />').append(me('<div class="jspDrag" />').append(me('<div class="jspDragLeft" />'),me('<div class="jspDragRight" />'))),me('<div class="jspCap jspCapRight" />'))),O=T.find(">.jspHorizontalBar"),E=O.find(">.jspTrack"),z=E.find(">.jspDrag"),y.showArrows&&(K=me('<a class="jspArrow jspArrowLeft" />').on("mousedown.jsp",re(-1,0)).on("click.jsp",ve),Q=me('<a class="jspArrow jspArrowRight" />').on("mousedown.jsp",re(1,0)).on("click.jsp",ve),y.arrowScrollOnHover&&(K.on("mouseover.jsp",re(-1,0,K)),Q.on("mouseover.jsp",re(1,0,Q))),ne(E,y.horizontalArrowPositions,K,Q)),z.on("mouseenter",function(){z.addClass("jspHover")}).on("mouseleave",function(){z.removeClass("jspHover")}).on("mousedown.jsp",function(e){me("html").on("dragstart.jsp selectstart.jsp",ve),z.addClass("jspActive");var t=e.pageX-z.position().left;return me("html").on("mousemove.jsp",function(e){pe(e.pageX-t,!1)}).on("mouseup.jsp mouseleave.jsp",ae),!1}),G=T.innerWidth(),se()),function(){if(P&&H){var e=E.outerHeight(),t=I.outerWidth();F-=e,me(O).find(">.jspCap:visible,>.jspArrow").each(function(){G+=me(this).outerWidth()}),G-=t,C-=t,b-=e,E.parent().append(me('<div class="jspCorner" />').css("width",e+"px")),oe(),se()}P&&k.width(T.outerWidth()-J+"px");B=k.outerHeight(),x=B/C,P&&((N=Math.ceil(1/D*G))>y.horizontalDragMaxWidth?N=y.horizontalDragMaxWidth:N<y.horizontalDragMinWidth&&(N=y.horizontalDragMinWidth),z.css("width",N+"px"),M=G-N,ue(X));H&&((L=Math.ceil(1/x*F))>y.verticalDragMaxHeight?L=y.verticalDragMaxHeight:L<y.verticalDragMinHeight&&(L=y.verticalDragMinHeight),A.css("height",L+"px"),W=F-L,ce(Y))}(),t&&(fe(m?S-b:o,!1),de(v?B-C:s,!1)),k.find(":input,a").off("focus.jsp").on("focus.jsp",function(e){he(e.target,!1)}),T.off(ee).on(ee,function(e,t,o,s){X||(X=0),Y||(Y=0);var n=X,r=Y,i=e.deltaFactor||y.mouseWheelSpeed;return _.scrollBy(o*i,-s*i,!1),n==X&&r==Y}),g=!1,T.off("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").on("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];u=je(),d=ge(),f=t.pageX,h=t.pageY,j=!1,g=!0}).on("touchmove.jsp",function(e){if(g){var t=e.originalEvent.touches[0],o=X,s=Y;return _.scrollTo(u+f-t.pageX,d+h-t.pageY),j=j||5<Math.abs(f-t.pageX)||5<Math.abs(h-t.pageY),o==X&&s==Y}}).on("touchend.jsp",function(e){g=!1}).on("click.jsp-touchclick",function(e){if(j)return j=!1}),y.enableKeyboardNavigation&&function(){var s,n,r=[];P&&r.push(O[0]);H&&r.push(R[0]);k.on("focus.jsp",function(){w.focus()}),w.attr("tabindex",0).off("keydown.jsp keypress.jsp").on("keydown.jsp",function(e){if(e.target===this||r.length&&me(e.target).closest(r).length){var t=X,o=Y;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=e.keyCode,i();break;case 35:de(B-C),s=null;break;case 36:de(0),s=null}return!(n=e.keyCode==s&&t!=X||o!=Y)}}).on("keypress.jsp",function(e){if(e.keyCode==s&&i(),e.target===this||r.length&&me(e.target).closest(r).length)return!n}),y.hideFocus?(w.css("outline","none"),"hideFocus"in T[0]&&w.attr("hideFocus",!0)):(w.css("outline",""),"hideFocus"in T[0]&&w.attr("hideFocus",!1));function i(){var e=X,t=Y;switch(s){case 40:_.scrollByY(y.keyboardSpeed,!1);break;case 38:_.scrollByY(-y.keyboardSpeed,!1);break;case 34:case 32:_.scrollByY(C*y.scrollPagePercent,!1);break;case 33:_.scrollByY(-C*y.scrollPagePercent,!1);break;case 39:_.scrollByX(y.keyboardSpeed,!1);break;case 37:_.scrollByX(-y.keyboardSpeed,!1)}return n=e!=X||t!=Y}}(),y.clickOnTrack&&function(){ie(),H&&I.on("mousedown.jsp",function(n){if(void 0===n.originalTarget||n.originalTarget==n.currentTarget){var r,i=me(this),e=i.offset(),a=n.pageY-e.top-Y,l=!0,c=function(){var e=i.offset(),t=n.pageY-e.top-L/2,o=C*y.scrollPagePercent,s=W*o/(B-C);if(a<0)t<Y-s?_.scrollByY(-o):le(t);else{if(!(0<a))return void p();Y+s<t?_.scrollByY(o):le(t)}r=setTimeout(c,l?y.initialDelay:y.trackClickRepeatFreq),l=!1},p=function(){r&&clearTimeout(r),r=null,me(document).off("mouseup.jsp",p)};return c(),me(document).on("mouseup.jsp",p),!1}});P&&E.on("mousedown.jsp",function(n){if(void 0===n.originalTarget||n.originalTarget==n.currentTarget){var r,i=me(this),e=i.offset(),a=n.pageX-e.left-X,l=!0,c=function(){var e=i.offset(),t=n.pageX-e.left-N/2,o=b*y.scrollPagePercent,s=M*o/(S-b);if(a<0)t<X-s?_.scrollByX(-o):pe(t);else{if(!(0<a))return void p();X+s<t?_.scrollByX(o):pe(t)}r=setTimeout(c,l?y.initialDelay:y.trackClickRepeatFreq),l=!1},p=function(){r&&clearTimeout(r),r=null,me(document).off("mouseup.jsp",p)};return c(),me(document).on("mouseup.jsp",p),!1}})}(),function(){if(location.hash&&1<location.hash.length){var e,t,o=escape(location.hash.substr(1));try{e=me("#"+o+', a[name="'+o+'"]')}catch(e){return}e.length&&k.find(o)&&(0===T.scrollTop()?t=setInterval(function(){0<T.scrollTop()&&(he(e,!0),me(document).scrollTop(T.position().top),clearInterval(t))},50):(he(e,!0),me(document).scrollTop(T.position().top)))}}(),y.hijackInternalLinks&&function(){if(me(document.body).data("jspHijack"))return;me(document.body).data("jspHijack",!0),me(document.body).delegate('a[href*="#"]',"click",function(e){var t,o,s,n,r,i=this.href.substr(0,this.href.indexOf("#")),a=location.href;if(-1!==location.href.indexOf("#")&&(a=location.href.substr(0,location.href.indexOf("#"))),i===a){t=escape(this.href.substr(this.href.indexOf("#")+1));try{o=me("#"+t+', a[name="'+t+'"]')}catch(e){return}o.length&&(s=o.closest(".jspScrollable"),s.data("jsp").scrollToElement(o,!0),s[0].scrollIntoView&&(n=me(window).scrollTop(),((r=o.offset().top)<n||r>n+me(window).height())&&s[0].scrollIntoView()),e.preventDefault())}})}()):(w.removeClass("jspScrollable"),k.css({top:0,left:0,width:T.width()-J}),T.off(ee),k.find(":input,a").off("focus.jsp"),w.attr("tabindex","-1").removeAttr("tabindex").off("keydown.jsp keypress.jsp"),k.off(".jsp"),ie()),y.autoReinitialise&&!U?U=setInterval(function(){te(y)},y.autoReinitialiseDelay):!y.autoReinitialise&&U&&clearInterval(U),r&&w.scrollTop(0)&&de(r,!1),i&&w.scrollLeft(0)&&fe(i,!1),w.trigger("jsp-initialised",[P||H])}function oe(){I.height(F+"px"),Y=0,t=y.verticalGutter+I.outerWidth(),k.width(b-t-J);try{0===R.position().left&&k.css("margin-left",t+"px")}catch(e){}}function se(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){G-=me(this).outerWidth()}),E.width(G+"px"),X=0}function ne(e,t,o,s){var n,r="before",i="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==r?i=t:t==i&&(r=t,n=o,o=s,s=n),e[r](o)[i](s)}function re(e,t,o){return function(){return function(e,t,o,s){o=me(o).addClass("jspActive");var n,r,i=!0,a=function(){0!==e&&_.scrollByX(e*y.arrowButtonSpeed),0!==t&&_.scrollByY(t*y.arrowButtonSpeed),r=setTimeout(a,i?y.initialDelay:y.arrowRepeatFreq),i=!1};a(),n=s?"mouseout.jsp":"mouseup.jsp",(s=s||me("html")).on(n,function(){o.removeClass("jspActive"),r&&clearTimeout(r),r=null,s.off(n)})}(e,t,this,o),this.blur(),!1}}function ie(){E&&E.off("mousedown.jsp"),I&&I.off("mousedown.jsp")}function ae(){me("html").off("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),A&&A.removeClass("jspActive"),z&&z.removeClass("jspActive")}function le(e,t){if(H){e<0?e=0:W<e&&(e=W);var o=new me.Event("jsp-will-scroll-y");if(w.trigger(o,[e]),!o.isDefaultPrevented()){var s=e||0,n=0===s,r=s==W,i=-(e/W)*(B-C);void 0===t&&(t=y.animateScroll),t?_.animate(A,"top",e,ce,function(){w.trigger("jsp-user-scroll-y",[-i,n,r])}):(A.css("top",e),ce(e),w.trigger("jsp-user-scroll-y",[-i,n,r]))}}}function ce(e){void 0===e&&(e=A.position().top),T.scrollTop(0);var t,o,s=0===(Y=e||0),n=Y==W,r=-(e/W)*(B-C);i==s&&l==n||(i=s,l=n,w.trigger("jsp-arrow-change",[i,l,a,c])),t=s,o=n,y.showArrows&&(V[t?"addClass":"removeClass"]("jspDisabled"),q[o?"addClass":"removeClass"]("jspDisabled")),k.css("top",r),w.trigger("jsp-scroll-y",[-r,s,n]).trigger("scroll")}function pe(e,t){if(P){e<0?e=0:M<e&&(e=M);var o=new me.Event("jsp-will-scroll-x");if(w.trigger(o,[e]),!o.isDefaultPrevented()){var s=e||0,n=0===s,r=s==M,i=-(e/M)*(S-b);void 0===t&&(t=y.animateScroll),t?_.animate(z,"left",e,ue,function(){w.trigger("jsp-user-scroll-x",[-i,n,r])}):(z.css("left",e),ue(e),w.trigger("jsp-user-scroll-x",[-i,n,r]))}}}function ue(e){void 0===e&&(e=z.position().left),T.scrollTop(0);var t,o,s=0===(X=e||0),n=X==M,r=-(e/M)*(S-b);a==s&&c==n||(a=s,c=n,w.trigger("jsp-arrow-change",[i,l,a,c])),t=s,o=n,y.showArrows&&(K[t?"addClass":"removeClass"]("jspDisabled"),Q[o?"addClass":"removeClass"]("jspDisabled")),k.css("left",r),w.trigger("jsp-scroll-x",[-r,s,n]).trigger("scroll")}function de(e,t){le(e/(B-C)*W,t)}function fe(e,t){pe(e/(S-b)*M,t)}function he(e,t,o){var s,n,r,i,a,l,c,p,u,d=0,f=0;try{s=me(e)}catch(e){return}for(n=s.outerHeight(),r=s.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!s.is(".jspPane");)if(d+=s.position().top,f+=s.position().left,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;l=(i=ge())+C,d<i||t?p=d-y.horizontalGutter:l<d+n&&(p=d-C+n+y.horizontalGutter),isNaN(p)||de(p,o),c=(a=je())+b,f<a||t?u=f-y.horizontalGutter:c<f+r&&(u=f-b+r+y.horizontalGutter),isNaN(u)||fe(u,o)}function je(){return-k.position().left}function ge(){return-k.position().top}function ve(){return!1}"border-box"===w.css("box-sizing")?J=$=0:($=w.css("paddingTop")+" "+w.css("paddingRight")+" "+w.css("paddingBottom")+" "+w.css("paddingLeft"),J=(parseInt(w.css("paddingLeft"),10)||0)+(parseInt(w.css("paddingRight"),10)||0)),me.extend(_,{reinitialise:function(e){te(e=me.extend({},y,e))},scrollToElement:function(e,t,o){he(e,t,o)},scrollTo:function(e,t,o){fe(e,o),de(t,o)},scrollToX:function(e,t){fe(e,t)},scrollToY:function(e,t){de(e,t)},scrollToPercentX:function(e,t){fe(e*(S-b),t)},scrollToPercentY:function(e,t){de(e*(B-C),t)},scrollBy:function(e,t,o){_.scrollByX(e,o),_.scrollByY(t,o)},scrollByX:function(e,t){pe((je()+Math[e<0?"floor":"ceil"](e))/(S-b)*M,t)},scrollByY:function(e,t){le((ge()+Math[e<0?"floor":"ceil"](e))/(B-C)*W,t)},positionDragX:function(e,t){pe(e,t)},positionDragY:function(e,t){le(e,t)},animate:function(e,t,o,s,n){var r={};r[t]=o,e.animate(r,{duration:y.animateDuration,easing:y.animateEase,queue:!1,step:s,complete:n})},getContentPositionX:function(){return je()},getContentPositionY:function(){return ge()},getContentWidth:function(){return S},getContentHeight:function(){return B},getPercentScrolledX:function(){return je()/(S-b)},getPercentScrolledY:function(){return ge()/(B-C)},getIsScrollableH:function(){return P},getIsScrollableV:function(){return H},getContentPane:function(){return k},scrollToBottom:function(e){le(W,e)},hijackInternalLinks:me.noop,destroy:function(){var e,t;e=ge(),t=je(),w.removeClass("jspScrollable").off(".jsp"),k.off(".jsp"),w.replaceWith(o.append(k.children())),o.scrollTop(e),o.scrollLeft(t),U&&clearInterval(U)}}),te(e)}return o=me.extend({},me.fn.jScrollPane.defaults,o),me.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){o[this]=o[this]||o.speed}),this.each(function(){var e=me(this),t=e.data("jsp");t?t.reinitialise(o):(me("script",e).filter('[type="text/javascript"],:not([type])').remove(),t=new s(e,o),e.data("jsp",t))})},me.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8,alwaysShowVScroll:!1,alwaysShowHScroll:!1}});